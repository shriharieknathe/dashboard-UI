@use '../styles/variables' as *;

.order-list {
  height: 100%;
  display: flex;
  flex-direction: column;

  .order-list-header {
    margin-bottom: space(6);

    .search-section {
      display: flex;
      justify-content: flex-end;

      .search-container {
        position: relative;
        width: 300px;

        .search-icon {
          position: absolute;
          left: space(3);
          top: 50%;
          transform: translateY(-50%);
          color: color(text-tertiary);
        }

        .search-input {
          width: 100%;
          padding: space(3) space(3) space(3) space(10);
          border: 1px solid color(border-light);
          border-radius: radius(lg);
          background-color: color(bg-card);
          color: color(text-primary);
          font-size: font-size(sm);
          transition: all 0.2s ease;

          &:focus {
            outline: none;
            border-color: color(primary);
            box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1);
          }

          &::placeholder {
            color: color(text-tertiary);
          }
        }

        @include mobile {
          width: 100%;
        }
      }
    }
  }

  .order-table-container {
    flex: 1;
    background-color: color(bg-card);
    border: 1px solid color(border-light);
    border-radius: radius(xl);
    overflow: hidden;
    box-shadow: shadow(sm);

    .order-table {
      width: 100%;
      border-collapse: collapse;

      thead {
        background-color: color(bg-secondary);
        border-bottom: 1px solid color(border-light);

        th {
          padding: space(4) space(6);
          text-align: left;
          font-size: font-size(sm);
          font-weight: font-weight(medium);
          color: color(text-secondary);
          border-right: 1px solid color(border-light);

          &:last-child {
            border-right: none;
          }

          &:first-child {
            width: 40px;
            text-align: center;
          }

          &:last-child {
            width: 40px;
          }
        }
      }

      tbody {
        tr {
          border-bottom: 1px solid color(border-light);
          transition: all 0.2s ease;

          &:hover {
            background-color: color(bg-hover);
          }

          &:last-child {
            border-bottom: none;
          }

          td {
            padding: space(4) space(6);
            border-right: 1px solid color(border-light);
            font-size: font-size(sm);
            color: color(text-primary);

            &:last-child {
              border-right: none;
            }

            &:first-child {
              text-align: center;
            }

            .checkbox {
              width: 16px;
              height: 16px;
              accent-color: color(primary);
              cursor: pointer;
            }

            &.order-id {
              font-weight: font-weight(medium);
              color: color(text-primary);
            }

            &.user-cell {
              .user-info {
                display: flex;
                align-items: center;
                gap: space(3);

                .user-avatar {
                  width: 32px;
                  height: 32px;
                  border-radius: 50%;
                  object-fit: cover;
                  border: 2px solid color(border-light);
                }

                .user-name {
                  font-weight: font-weight(medium);
                  color: color(text-primary);
                }
              }
            }

            &.project {
              color: color(text-secondary);
            }

            &.address {
              color: color(text-secondary);
            }

            &.date {
              color: color(text-tertiary);
              font-size: font-size(xs);
            }

            &.status {
              .status-badge {
                display: inline-flex;
                align-items: center;
                gap: space(2);
                padding: space(1) space(3);
                border-radius: radius(2xl);
                font-size: font-size(xs);
                font-weight: font-weight(medium);
                text-transform: capitalize;

                .status-dot {
                  width: 6px;
                  height: 6px;
                  border-radius: 50%;
                }

                &.success {
                  background-color: color(success-light);
                  color: color(success);

                  .status-dot {
                    background-color: color(success);
                  }
                }

                &.warning {
                  background-color: color(warning-light);
                  color: color(warning);

                  .status-dot {
                    background-color: color(warning);
                  }
                }

                &.error {
                  background-color: color(error-light);
                  color: color(error);

                  .status-dot {
                    background-color: color(error);
                  }
                }

                &.progress {
                  background-color: rgba(139, 92, 246, 0.1);
                  color: color(progress);

                  .status-dot {
                    background-color: color(progress);
                  }
                }
              }
            }

            &.actions {
              text-align: center;

              .action-btn {
                background: none;
                border: none;
                color: color(text-tertiary);
                cursor: pointer;
                padding: space(1);
                border-radius: radius(sm);
                transition: all 0.2s ease;
                font-size: font-size(lg);
                font-weight: font-weight(bold);

                &:hover {
                  background-color: color(bg-hover);
                  color: color(text-secondary);
                }
              }
            }
          }
        }
      }
    }
  }

  .pagination {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: space(2);
    margin-top: space(6);

    .pagination-btn {
      background: none;
      border: 1px solid color(border-light);
      color: color(text-secondary);
      cursor: pointer;
      padding: space(2) space(3);
      border-radius: radius(md);
      transition: all 0.2s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      min-width: 36px;
      height: 36px;
      font-size: font-size(sm);

      &:hover:not(:disabled) {
        background-color: color(bg-hover);
        color: color(text-primary);
        border-color: color(primary);
      }

      &:disabled {
        opacity: 0.5;
        cursor: not-allowed;
      }

      &.active {
        background-color: color(primary);
        color: white;
        border-color: color(primary);
      }
    }
  }

  @include tablet {
    .order-table-container {
      .order-table {
        thead th,
        tbody td {
          padding: space(3) space(4);
        }

        tbody td {
          &.address,
          &.project {
            display: none;
          }
        }

        thead th:nth-child(4),
        thead th:nth-child(5) {
          display: none;
        }
      }
    }
  }

  @include mobile {
    .order-table-container {
      .order-table {
        thead th,
        tbody td {
          padding: space(2) space(3);
        }

        tbody td {
          &.date {
            display: none;
          }

          &.user-cell .user-info {
            flex-direction: column;
            align-items: flex-start;
            gap: space(1);

            .user-avatar {
              width: 24px;
              height: 24px;
            }

            .user-name {
              font-size: font-size(xs);
            }
          }
        }

        thead th:nth-child(6) {
          display: none;
        }
      }
    }

    .pagination {
      margin-top: space(4);

      .pagination-btn {
        min-width: 32px;
        height: 32px;
        padding: space(1) space(2);
        font-size: font-size(xs);
      }
    }
  }
}

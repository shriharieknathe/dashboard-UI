@use '../../styles/variables' as *;

.sidebar {
  width: $sidebar-width;
  height: 100vh;
  background-color: color(bg-card);
  border-right: 1px solid color(border-light);
  display: flex;
  flex-direction: column;
  // position: fixed;
  // left: 0;
  // top: 0;
  z-index: 100;
  padding: space(6) 0;

  .sidebar-header {
    padding: 0 space(6) space(6) space(6);
    border-bottom: 1px solid color(border-light);
    margin-bottom: space(6);

    .brand {
      display: flex;
      align-items: center;
      gap: space(3);

      .brand-icon {
        width: 24px;
        height: 24px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: font-size(lg);
      }

      .brand-text {
        font-size: font-size(lg);
        font-weight: font-weight(semibold);
        color: color(text-primary);
      }
    }
  }

  .sidebar-nav {
    flex: 1;
    padding: 0 space(4);
    overflow-y: auto;

    .nav-item {
      margin-bottom: space(1);

      .nav-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: space(3) space(2);
        cursor: pointer;
        transition: all 0.2s ease;

        .nav-title {
          font-size: font-size(xs);
          font-weight: font-weight(medium);
          color: color(text-tertiary);
          text-transform: uppercase;
          letter-spacing: 0.5px;
        }

        .nav-chevron {
          color: color(text-tertiary);
          display: flex;
          align-items: center;
          justify-content: center;
        }
      }

      .nav-link {
        display: block;
        padding: space(2) space(2);
        margin: space(1) 0;
        border-radius: radius(md);
        text-decoration: none;
        color: color(text-secondary);
        transition: all 0.2s ease;
        position: relative;

        &:hover {
          background-color: color(bg-hover);
          color: color(text-primary);
        }

        &.active {
          background-color: color(bg-tertiary);
          color: color(text-primary);
          border: 1px solid color(border-light);

          .nav-icon {
            color: color(text-primary);
          }
        }

        &.level-2 {
          margin-left: space(4);
          padding-left: space(6);

          &::before {
            content: '';
            position: absolute;
            left: space(4);
            top: 50%;
            transform: translateY(-50%);
            width: 4px;
            height: 4px;
            background-color: color(text-tertiary);
            border-radius: 50%;
          }

          &.active {
            background-color: color(bg-tertiary);
            border: 1px solid color(border-light);
          }

          &.active::before {
            background-color: color(text-primary);
          }
        }

        .nav-link-content {
          display: flex;
          align-items: center;
          gap: space(3);

          .nav-icon {
            color: color(text-tertiary);
            flex-shrink: 0;
          }

          .nav-text {
            flex: 1;
            font-size: font-size(sm);
            font-weight: font-weight(medium);
          }

          .nav-chevron {
            margin-left: auto;
            color: color(text-tertiary);
            display: flex;
            align-items: center;
            justify-content: center;
          }
        }
      }

      .nav-children {
        overflow: hidden;
      }
    }
  }

  @include mobile {
    transform: translateX(-100%);
    transition: transform 0.3s ease;

    &.open {
      transform: translateX(0);
    }
  }
}
